{"version":3,"sources":["init.js"],"names":["setPrototypeOf","init","app","wsInit","req","res","next","enabled","setHeader","request","response","locals","Object","create"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,gBAA3B;AACA;;;;;;;;;AASA,OAAO,SAASC,IAAT,CAAcC,GAAd,EAAmB;AACtB,WAAO,SAASC,MAAT,CAAgBC,GAAhB,EAAqBC,GAArB,EAA0BC,IAA1B,EAAgC;AACnC,YAAIJ,IAAIK,OAAJ,CAAY,cAAZ,CAAJ,EAAiC;AAC7BF,gBAAIG,SAAJ,CAAc,cAAd,EAA8B,SAA9B;AACH;AACDJ,YAAIC,GAAJ,GAAUA,GAAV;AACAA,YAAID,GAAJ,GAAUA,GAAV;AACAA,YAAIE,IAAJ,GAAWA,IAAX;AACAN,uBAAeI,GAAf,EAAoBF,IAAIO,OAAxB;AACAT,uBAAeK,GAAf,EAAoBH,IAAIQ,QAAxB;AACAL,YAAIM,MAAJ,GAAaN,IAAIM,MAAJ,IAAcC,OAAOC,MAAP,CAAc,IAAd,CAA3B;AACAP;AACH,KAXD;AAYH;AACD","file":"init.js","sourcesContent":["import setPrototypeOf from \"setprototypeof\";\r\n/**\r\n * Initialization middleware, exposing the\r\n * request and response to each other, as well\r\n * as defaulting the X-Powered-By header field.\r\n *\r\n * @param {Application} app\r\n * @return {Function}\r\n * @api private\r\n */\r\nexport function init(app) {\r\n    return function wsInit(req, res, next) {\r\n        if (app.enabled(\"x-powered-by\")) {\r\n            res.setHeader(\"X-Powered-By\", \"Oven WS\");\r\n        }\r\n        req.res = res;\r\n        res.req = req;\r\n        req.next = next;\r\n        setPrototypeOf(req, app.request);\r\n        setPrototypeOf(res, app.response);\r\n        res.locals = res.locals || Object.create(null);\r\n        next();\r\n    };\r\n}\r\n//# sourceMappingURL=init.js.map"]}