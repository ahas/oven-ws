{"version":3,"sources":["ws.js"],"names":["Route","Router","req","res","Application","setPrototypeOf","bodyParser","query","serveStatic","createApplication","request","app","handle","Object","create","configurable","enumerable","writable","value","response","init","ws","application","json","raw","test","text","urlencoded","static"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,gBAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,GAAP,MAAgB,YAAhB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,cAAP,MAA2B,gBAA3B;AACA;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA;;;;AAIA,SAASC,iBAAT,GAA6B;AACzB,aAASC,OAAT,CAAiBR,GAAjB,EAAsBC,GAAtB,EAA2B;AACvB,eAAOQ,IAAIC,MAAJ,CAAWV,GAAX,EAAgBC,GAAhB,CAAP;AACH;AACD,QAAIQ,MAAMN,eAAeK,OAAf,EAAwB,IAAIN,WAAJ,EAAxB,CAAV;AACA;AACAO,QAAID,OAAJ,GAAcG,OAAOC,MAAP,CAAcZ,GAAd,EAAmB;AAC7BS,aAAK,EAAEI,cAAc,IAAhB,EAAsBC,YAAY,IAAlC,EAAwCC,UAAU,IAAlD,EAAwDC,OAAOP,GAA/D;AADwB,KAAnB,CAAd;AAGA;AACAA,QAAIQ,QAAJ,GAAeN,OAAOC,MAAP,CAAcX,GAAd,EAAmB;AAC9BQ,aAAK,EAAEI,cAAc,IAAhB,EAAsBC,YAAY,IAAlC,EAAwCC,UAAU,IAAlD,EAAwDC,OAAOP,GAA/D;AADyB,KAAnB,CAAf;AAGAA,QAAIS,IAAJ;AACA,WAAOT,GAAP;AACH;AACD,IAAIU,KAAKZ,iBAAT;AACAY,GAAGC,WAAH,GAAiBlB,WAAjB;AACAiB,GAAGX,OAAH,GAAaR,GAAb;AACAmB,GAAGF,QAAH,GAAchB,GAAd;AACAkB,GAAGrB,KAAH,GAAWA,KAAX;AACAqB,GAAGpB,MAAH,GAAYA,MAAZ;AACAoB,GAAGE,IAAH,GAAUjB,WAAWiB,IAArB;AACAF,GAAGG,GAAH,GAASlB,WAAWkB,GAApB;AACAH,GAAGI,IAAH,GAAUnB,WAAWoB,IAArB;AACAL,GAAGM,UAAH,GAAgBrB,WAAWqB,UAA3B;AACAN,GAAGd,KAAH,GAAWA,KAAX;AACAc,GAAGO,MAAH,GAAYpB,WAAZ;AACA,eAAea,EAAf;AACA","file":"ws.js","sourcesContent":["import Route from \"./router/route\";\r\nimport Router from \"./router\";\r\nimport req from \"./request\";\r\nimport res from \"./response\";\r\nimport Application from \"./application\";\r\nimport setPrototypeOf from \"setprototypeof\";\r\n// Middlewares\r\nimport bodyParser from \"./middleware/body-parser\";\r\nimport query from \"./middleware/query\";\r\nimport serveStatic from \"./serve-static\";\r\n/**\r\n * Create an WS application.\r\n * @api private\r\n */\r\nfunction createApplication() {\r\n    function request(req, res) {\r\n        return app.handle(req, res);\r\n    }\r\n    var app = setPrototypeOf(request, new Application());\r\n    // expose the prototype that will get set on requests\r\n    app.request = Object.create(req, {\r\n        app: { configurable: true, enumerable: true, writable: true, value: app },\r\n    });\r\n    // expose the prototype that will get set on responses\r\n    app.response = Object.create(res, {\r\n        app: { configurable: true, enumerable: true, writable: true, value: app },\r\n    });\r\n    app.init();\r\n    return app;\r\n}\r\nvar ws = createApplication;\r\nws.application = Application;\r\nws.request = req;\r\nws.response = res;\r\nws.Route = Route;\r\nws.Router = Router;\r\nws.json = bodyParser.json;\r\nws.raw = bodyParser.raw;\r\nws.test = bodyParser.text;\r\nws.urlencoded = bodyParser.urlencoded;\r\nws.query = query;\r\nws.static = serveStatic;\r\nexport default ws;\r\n//# sourceMappingURL=ws.js.map"]}